# 代理模式

定义：为一个对象提供一个代用品/占位符，以便控制对它的访问；在不方便直接访问本体的时候，提供一个对象来控制对它的访问

特点：
1. 代理应该实现和本体某功能一致的接口，好处在于用户可以放心使用代理（用户只关心结果）、在任何使用本体的地方都能用代理替代
2. 若代理和本体都为一个函数（对象），函数都能被执行，则认为具有一致的接口

分类：
1. 虚拟代理（最常见）：将一些开销很大的对象，延迟到真正需要的时候才进行创建
2. 缓存代理：为一些开销大的运算结果提供暂时的存储，若下次运算时传入的参数与之前一致，则直接返回前面存储的运算结果
3. 保护代理（不容易实现）：控制不同权限的对象对本体的访问
4. 远程代理：为一个对象在不同的地址空间提供局部代表
5. 智能引用代理：取代了简单的指针，在访问对象时执行一些附加操作，例如计算对象被引用的次数
6. 防火墙代理：控制网络资源的访问
7. 写时复制代理：常用于复制一个庞大的对象，延迟复制的过程，当对象真正被修改时才进行复制操作，比如DDL

应用场景：
1. 图片预加载
2. 合并http请求